<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="app"></div>

    <script>
        /*
        En fin utfording er å kjenne igjen yatzy-kombinasjoner ut fra en array på 5 terningverdier

        ett par 
        to par
        tre like
        fire like

        hus (et par, 3 like)
        liten straight (1-5)
        stor straigth (2-6)

        sjanse - catch-all

        yatzy (alle like)

        første triks er å lage frekvenstabell og så analysere den
        */

        /*
        1. 5 terninger, verdier - Donion Rings.
        2. Gå igjennom alle verdiene finne like, hus, etc. 
        3. Frekvenstabell for å sjekke resultat.
        */


       let diceAmount = 5;
        let result = rollDice();
        let frequencyTable = [];

        show();
        function show() {
            let HTML = '';
            HTML = /*HTML*/`
                <div>Terninger: ${result}</div>
                <div>Resultat: ${checkRoll()}
                <div>Frekvenstabell: ${frequencyTable}</div>
            `
            document.getElementById('app').innerHTML = HTML;
        }

        function rollDice() {
            let rolls = [];
            for (let i = 0; i < diceAmount; i++) {
                rolls.push(Math.floor(Math.random() * 6 + 1))
            }
            console.log(rolls)
            return rolls;
        }

        function checkRoll() {
            frequencyTable = new Array(diceAmount).fill(0);
            for (let die of result) {
                frequencyTable[die - 1]++;
            }
            console.log("FT: "+frequencyTable);
            return checkResult(frequencyTable);
        }


        function checkResult(array) {
            if (array.includes(5)) {
                return "Yatzy!";
            } else if (checkStraight(array)) {
                return result.includes(6) ? 'Stor straigth' : 'Liten straigth';
            }
            //Hus
            if (checkHouse(array)) {
                return "Hus";
            } else if (array.includes(4)) {
                return '4 like';
            } else if (checkPairs(array) == "2 par") {
                return ('2 par');
            } else if (array.includes(3)) {
                return '3 like';
            } else if (checkPairs(array) == "1 par") {
               return '1 par';
            }
            return 'Sjanse';
        }
        function checkHouse(arr) {
            let count = 0;
            for (let i of arr) {
                if (i == 3) {
                    count++;
                }
            }
            if (count==2 || arr.includes(2) && arr.includes(3)){
                return true;
            }
        }

        function checkPairs(arr) {
            let count = 0;
            for (let i of arr) {
                if (i == 2) {
                    count++;
                }
            }
            if (count >= 2) {
                return "2 par"
            } else if (count == 1) {
                return "1 par";
            }
        }

        function checkStraight(arr) {
            let count = 0;
            for (let i of arr) {
                if (i == 1) {
                    count++
                }
            }
            if (count == 5) {
                return true;
            }
        }
    </script>

</body>

</html>